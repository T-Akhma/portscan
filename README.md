# Portscan ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π TCP-—Å–∫–∞–Ω–µ—Ä –ø–æ—Ä—Ç–æ–≤ –Ω–∞ Go

–ë—ã—Å—Ç—Ä—ã–π –º–∏–Ω–∏-—Å–∫–∞–Ω–µ—Ä TCP-–ø–æ—Ä—Ç–æ–≤, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Go. –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º ‚Äî worker-pool, –∫–∞–Ω–∞–ª—ã, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏ —É–¥–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ (human/JSON). –†–∞–±–æ—Ç–∞–µ—Ç —Å IPv4/IPv6, —É–º–µ–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã –∏ —Ç–æ—á–µ—á–Ω—ã–µ –ø–æ—Ä—Ç—ã.

## –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–ê–≤—Ç–æ—Ä –∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ. 

> ‚ö†Ô∏è –°–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ —Ö–æ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞–º –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏–ª–∏ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚öôÔ∏è –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å: —É–ø—Ä–∞–≤–ª—è–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ (`-workers`)
- üß≠ –ì–∏–±–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤: `-ports "22,80,443,8000-8100"` –∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω `-start/-end`
- ‚è±Ô∏è –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `-timeout 300ms`, `-timeout 1s` –∏ —Ç. –ø.
- üì¶ –ë—É—Ñ–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: `-resbuf` (—Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç ¬´–º–µ–¥–ª–µ–Ω–Ω—ã–π¬ª –≤—ã–≤–æ–¥)
- üñ®Ô∏è –†–µ–∂–∏–º—ã –≤—ã–≤–æ–¥–∞: –æ–±—ã—á–Ω—ã–π (`open: ‚Ä¶`), —Ç–∏—Ö–∏–π (`-quiet`), —á–∏—Å—Ç—ã–π JSON (`-json`)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ: `WaitGroup` + –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–æ–≤

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

~~~bash
go install github.com/T-Akhma/portscan/cmd/portscan@latest
~~~

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `$GOPATH/bin` (–∏–ª–∏ `$HOME/go/bin`) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `PATH`.

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–°–∫–∞–Ω –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤ 1‚Äì1024 –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:

~~~bash
portscan -host 127.0.0.1 -start 1 -end 1024 -workers 200
~~~

–°–∫–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤:

~~~bash
portscan -host 127.0.0.1 -ports "22,80,443,8000-8002"
~~~

–¢–∏—Ö–∏–π —Ä–µ–∂–∏–º (–±–µ–∑ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ `open:`):

~~~bash
portscan -host 127.0.0.1 -ports "22,80,443" -quiet
~~~

–ß–∏—Å—Ç—ã–π JSON-–æ—Ç—á—ë—Ç (—É–¥–æ–±–Ω–æ –¥–ª—è –ø–∞–π–ø–æ–≤):

~~~bash
portscan -host demo.example -ports "22,80,443" -json
~~~

–ü—Ä–∏–º–µ—Ä JSON (—Å–æ–∫—Ä.):

~~~json
{
  "host": "127.0.0.1",
  "ports_spec": "22,80,443",
  "targets": 3,
  "timeout": "300ms",
  "workers": 100,
  "open_ports": [22, 80],
  "count": 2,
  "duration_ms": 57
}
~~~

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

–ü–æ–¥–Ω—è—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Ä—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

~~~bash
python3 -m http.server 8080 &
portscan -host 127.0.0.1 -ports "8080" -quiet
~~~

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å JSON-—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–∞–π–ª:

~~~bash
portscan -host 127.0.0.1 -ports "22,80,443" -json > result.json
~~~

---

## –§–ª–∞–≥–∏

- `-host` (string) ‚Äî —Ü–µ–ª—å (IP –∏–ª–∏ –¥–æ–º–µ–Ω)
- `-start` / `-end` (int) ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ—Ä—Ç–æ–≤ (1..65535)
- `-ports` (string) ‚Äî —Å–ø–∏—Å–æ–∫ –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã: `"22,80,443,8000-8100"`  
  _(–µ—Å–ª–∏ –∑–∞–¥–∞–Ω `-ports`, `-start/-end` –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)_
- `-timeout` (duration) ‚Äî —Ç–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –Ω–∞–ø—Ä. `300ms`, `1s`
- `-workers` (int) ‚Äî —á–∏—Å–ª–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤
- `-resbuf` (int) ‚Äî —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∫–∞–Ω–∞–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1024)
- `-quiet` (bool) ‚Äî –±–µ–∑ –ø–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π `open:`
- `-json` (bool) ‚Äî –≤—ã–≤–æ–¥ —Ç–æ–ª—å–∫–æ JSON (–±–µ–∑ –±–∞–Ω–Ω–µ—Ä–æ–≤/—Ç–µ–∫—Å—Ç–∞)

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–µ—Ç—ã

- –ù–∞—á–Ω–∏—Ç–µ —Å `-workers`, —Ä–∞–≤–Ω–æ–≥–æ —á–∏—Å–ª—É –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —è–¥–µ—Ä √ó 50‚Äì200. –î–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–∞—ë—Ç –±–æ–ª—å—à–∏–π —ç—Ñ—Ñ–µ–∫—Ç.
- –ï—Å–ª–∏ –≤—ã–≤–æ–¥ ¬´–±–æ–ª—Ç–ª–∏–≤—ã–π¬ª (–±–µ–∑ `-quiet`) –∏ –º–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤, —É–≤–µ–ª–∏—á—å—Ç–µ `-resbuf` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 4096), —á—Ç–æ–±—ã –≤–æ—Ä–∫–µ—Ä—ã –º–µ–Ω—å—à–µ –∂–¥–∞–ª–∏ –ø–µ—á–∞—Ç—å.
- –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `-json`.

---

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

~~~bash
git clone https://github.com/T-Akhma/portscan.git
cd portscan
go build -o portscan ./cmd/portscan
./portscan -h
~~~

---

